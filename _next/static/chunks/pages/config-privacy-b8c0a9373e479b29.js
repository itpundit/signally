(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9637],{8623:function(e,t,r){"use strict";r.d(t,{O:function(){return S}});var n=r(7294),s=r(4761),i=r(917),a=r(6817),o=r(6768),l=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&p(e,r,t[r]);if(d)for(var r of d(t))x.call(t,r)&&p(e,r,t[r]);return e},m=(e,t)=>c(e,u(t));let j=(0,i.F4)({"from, to":{opacity:.4},"50%":{opacity:1}});var v=(0,a.k)((e,{height:t,width:r,radius:n,circle:s,animate:i})=>({root:{height:(0,o.h)(t),width:s?(0,o.h)(t):(0,o.h)(r),borderRadius:s?(0,o.h)(t):e.fn.radius(n),position:"relative",WebkitTransform:"translateZ(0)"},visible:{overflow:"hidden","&::before":m(h({},e.fn.cover(0)),{content:'""',background:"dark"===e.colorScheme?e.colors.dark[7]:e.white,zIndex:10}),"&::after":m(h({},e.fn.cover(0)),{content:'""',background:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3],animation:i?`${j} 1500ms linear infinite`:"none",zIndex:11})}})),g=r(7414),y=Object.defineProperty,b=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,O=(e,t,r)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k=(e,t)=>{for(var r in t||(t={}))w.call(t,r)&&O(e,r,t[r]);if(b)for(var r of b(t))L.call(t,r)&&O(e,r,t[r]);return e},N=(e,t)=>{var r={};for(var n in e)w.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&b)for(var n of b(e))0>t.indexOf(n)&&L.call(e,n)&&(r[n]=e[n]);return r};let C={height:"auto",width:"100%",visible:!0,animate:!0},S=(0,n.forwardRef)((e,t)=>{let r=(0,s.N4)("Skeleton",C,e),{height:i,width:a,visible:o,animate:l,className:c,circle:u,radius:d,unstyled:f,variant:x}=r,p=N(r,["height","width","visible","animate","className","circle","radius","unstyled","variant"]),{classes:h,cx:m}=v({height:i,width:a,circle:u,radius:d,animate:l},{name:"Skeleton",unstyled:f,variant:x});return n.createElement(g.x,k({className:m(h.root,{[h.visible]:o},c),ref:t},p))});S.displayName="@mantine/core/Skeleton"},1759:function(e,t,r){"use strict";r.d(t,{q:function(){return s}});var n=r(7294);function s(e=!1,t){let{onOpen:r,onClose:s}=t||{},[i,a]=(0,n.useState)(e),o=(0,n.useCallback)(()=>{a(e=>e||(null==r||r(),!0))},[r]),l=(0,n.useCallback)(()=>{a(e=>e?(null==s||s(),!1):e)},[s]),c=(0,n.useCallback)(()=>{i?l():o()},[l,o,i]);return[i,{open:o,close:l,toggle:c}]}},9276:function(e,t,r){"use strict";function n(e,t,r){return Math.min(Math.max(e,t),r)}r.d(t,{u:function(){return n}})},953:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config-privacy",function(){return r(8562)}])},5758:function(e,t,r){"use strict";r.d(t,{X:function(){return a}});var n=r(5893),s=r(7414),i=r(5117);function a(e){let{}=e;return(0,n.jsxs)(s.x,{className:"border p-10 flex flex-col items-center rounded-md",children:[(0,n.jsx)("img",{className:"w-[400px] object-contain",src:"/images/form-error.png",alt:""}),(0,n.jsx)(i.x,{className:"text-center mt-10",children:"There was an error loading the form. Please try again later."})]})}r(7294)},9140:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5893),s=r(7414),i=r(8623);function a(e){let{}=e;return(0,n.jsxs)(s.x,{className:"",children:[(0,n.jsx)(i.O,{mt:6,height:30,radius:"xs"}),(0,n.jsx)(i.O,{mt:6,height:30,radius:"xs"}),(0,n.jsx)(i.O,{mt:6,height:30,radius:"xs"}),(0,n.jsx)(i.O,{mt:6,height:30,radius:"xs"}),(0,n.jsx)(i.O,{mt:6,height:30,width:"90%",radius:"xs"}),(0,n.jsx)(i.O,{mt:6,height:30,width:"80%",radius:"xs"})]})}r(7294)},941:function(e,t,r){"use strict";r.d(t,{S:function(){return x}});var n=r(5893),s=r(4953),i=r(2637),a=r(601),o=r(8151),l=r(1705),c=r(6279),u=r(8510),d=r(1284),f=r(4929);function x(e){let{...t}=e,r=(0,d.jE)({extensions:[f.Z,a.ZP,u.Z,c.Z,l.Z,o.Z,s.r],content:t.value,onUpdate:e=>{let{editor:r}=e;t.onChange(r.getHTML())}});return(0,n.jsxs)(i.L,{editor:r,children:[(0,n.jsxs)(i.L.Toolbar,{sticky:!0,stickyOffset:60,children:[(0,n.jsxs)(i.L.ControlsGroup,{children:[(0,n.jsx)(i.L.Bold,{}),(0,n.jsx)(i.L.Italic,{}),(0,n.jsx)(i.L.Underline,{}),(0,n.jsx)(i.L.Strikethrough,{}),(0,n.jsx)(i.L.ClearFormatting,{}),(0,n.jsx)(i.L.Highlight,{}),(0,n.jsx)(i.L.Code,{})]}),(0,n.jsxs)(i.L.ControlsGroup,{children:[(0,n.jsx)(i.L.H1,{}),(0,n.jsx)(i.L.H2,{}),(0,n.jsx)(i.L.H3,{}),(0,n.jsx)(i.L.H4,{})]}),(0,n.jsxs)(i.L.ControlsGroup,{children:[(0,n.jsx)(i.L.Blockquote,{}),(0,n.jsx)(i.L.Hr,{}),(0,n.jsx)(i.L.BulletList,{}),(0,n.jsx)(i.L.OrderedList,{}),(0,n.jsx)(i.L.Subscript,{}),(0,n.jsx)(i.L.Superscript,{})]}),(0,n.jsxs)(i.L.ControlsGroup,{children:[(0,n.jsx)(i.L.Link,{}),(0,n.jsx)(i.L.Unlink,{})]}),(0,n.jsxs)(i.L.ControlsGroup,{children:[(0,n.jsx)(i.L.AlignLeft,{}),(0,n.jsx)(i.L.AlignCenter,{}),(0,n.jsx)(i.L.AlignJustify,{}),(0,n.jsx)(i.L.AlignRight,{})]})]}),(0,n.jsx)(i.L.Content,{})]})}},6125:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5893),s=r(1163),i=r(7294),a=r(5578),o=r(247);function l(e){let{children:t}=e,{pathname:r,push:l}=(0,s.useRouter)(),[c,u]=(0,i.useState)(null),{isAuthenticated:d,isInitialized:f,authUser:x}=(0,a.a)(e=>e);return((0,i.useEffect)(()=>{c&&r!==c&&(u(null),l(c))},[r,l,c]),f)?r.includes("/reset-password")?(r!==c&&u(r),l("/reset-password"),(0,n.jsx)("div",{})):!d&&r.includes("/signin")?(r!==c&&u(r),l("/signin"),(0,n.jsx)("div",{})):d?d&&((null==x?void 0:x.isSuperAdmin)===!0||(null==x?void 0:x.isAdmin)===!0||(null==x?void 0:x.isTestAdmin)===!0)?(0,n.jsx)(n.Fragment,{children:t}):d&&(null==x?void 0:x.isSuperAdmin)===!1&&(null==x?void 0:x.isAdmin)===!1&&(null==x?void 0:x.isTestAdmin)===!1?(0,n.jsx)(o.default,{}):(0,n.jsx)("div",{}):(l("/signin"),(0,n.jsx)("div",{})):(0,n.jsx)("div",{})}},8562:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var n=r(5893),s=r(2445),i=r(7414),a=r(5117),o=r(7841),l=r(1163),c=r(7248),u=r(7317),d=r(4922),f=r(7294),x=r(6310),p=r(7582),h=r(4934),m=r(4074);r(8660);class j{static fromJson(e){return(0,h.yE)(j,e,{exposeDefaultValues:!0,excludeExtraneousValues:!0})}static toJson(e){return(0,h.zb)(e)}constructor(){this.id="",this.data=""}}(0,p.gn)([(0,m.C)({name:"id"})],j.prototype,"id",void 0),(0,p.gn)([(0,m.C)()],j.prototype,"data",void 0);var v=r(9828),g=r(6418),y=r(5477);async function b(e){let t={...j.toJson(e)};delete t.id;let r=g.U_.currentUser,n=await (0,y.V)(r.uid);if(!n)throw Error("No user found!");if(!n.isSuperAdmin&&!n.isAdmin)throw Error("You are not authorized to update privacy settings.");try{return await (0,v.pl)((0,v.JU)(g.$V,"appControlsPublic","privacy"),{...t},{merge:!0}),!0}catch(e){throw Error(e.message)}}async function w(){try{let e=await (0,v.QT)((0,v.JU)(g.$V,"appControlsPublic","privacy"));return j.fromJson({...e.data(),id:e.id})}catch(e){return null}}var L=r(5578),O=r(941),k=r(5758),N=r(9140);function C(){let[e,t]=(0,f.useState)(!0),[r,s]=(0,f.useState)(null);async function i(){s(await w()),t(!1)}return((0,f.useEffect)(()=>{i()},[]),e)?(0,n.jsx)(N.Z,{}):r?(0,n.jsx)(S,{privacy:r}):(0,n.jsx)(k.X,{})}function S(e){let{privacy:t}=e,r=x.Ry({data:x.Z_().required("Required")}),i=(0,c.c)({validate:(0,u.X)(r),initialValues:{data:(null==t?void 0:t.data)||""}});(0,l.useRouter)();let[a,o]=(0,f.useState)(!1),{isHandlePrivacySubmitCalled:p}=(0,L.a)(e=>e),{setIsHandlePrivacySubmitCalled:h}=(0,L.a)(e=>e);(0,f.useEffect)(()=>{p&&m()},[p]);let m=async()=>{if(console.log(i.values),i.validate().hasErrors){h(!1);return}try{o(!0);let e=new j;e.data=i.values.data,await b(e),h(!1),(0,d.c0)({color:"blue",title:"Success",message:"Privacy updated",autoClose:6e3})}catch(e){h(!1),(0,d.c0)({color:"red",title:"Error",message:e.message,autoClose:6e3})}};return(0,n.jsxs)(s.W,{className:"max-w-[1600px]",p:0,children:[(0,n.jsx)(O.S,{value:i.values.data,onChange:e=>i.setValues({...i.values,data:e}),className:"",id:"rte"}),(0,n.jsx)("div",{className:"pb-20"})]})}var E=r(8185),P=r(6125),_=r(3649);function T(){let e=(0,l.useRouter)();e.query.id;let{setIsHandlePrivacySubmitCalled:t,isHandlePrivacySubmitCalled:r}=(0,L.a)(e=>e);return(0,n.jsx)(P.Z,{children:(0,n.jsx)(_.Z,{variant:"admin",children:(0,n.jsx)(E.Z,{title:"Privacy",children:(0,n.jsxs)(s.W,{size:"xl",className:"mt-3",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(i.x,{className:"flex items-center",children:(0,n.jsx)(a.x,{className:"text-2xl font-semibold leading-10 cursor-pointer",children:"Privacy"})}),(0,n.jsx)("div",{children:(0,n.jsx)(o.z,{loading:r,className:"btn-app",onClick:()=>t(!0),children:"Submit"})})]}),(0,n.jsx)("div",{className:"mt-10"}),(0,n.jsx)(C,{})]})})})})}},247:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(5893),s=r(7414),i=r(5117),a=r(7841),o=r(1163),l=r(8185),c=r(3759);function u(){let e=(0,o.useRouter)();return(0,n.jsx)(l.Z,{title:"No Access",children:(0,n.jsxs)(s.x,{className:"flex flex-col items-center justify-center h-screen dark:bg-dark-100 bg-light-100",children:[(0,n.jsx)(i.x,{className:"mb-10 font-bold",children:"You dont have access to this page. Please contact the admin."}),(0,n.jsx)("img",{src:"/svg/404.svg",className:"h-[300px]"}),(0,n.jsx)(a.z,{onClick:function(){(0,c.w7)(),e.push("/signin")},className:"w-[200px] mt-12 border-0 bg-app-primary text-white hover:bg-opacity-90 transition",children:"Back to sign in"})]})})}},2703:function(e,t,r){"use strict";var n=r(414);function s(){}function i(){}i.resetWarningCache=s,e.exports=function(){function e(e,t,r,s,i,a){if(a!==n){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:s};return r.PropTypes=r,r}},5697:function(e,t,r){e.exports=r(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[6911,4793,3053,6897,7734,3981,9774,2888,179],function(){return e(e.s=953)}),_N_E=e.O()}]);