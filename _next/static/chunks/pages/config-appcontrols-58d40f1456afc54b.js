(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{34432:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config-appcontrols",function(){return l(97894)}])},39140:function(e,s,l){"use strict";l.d(s,{Z:function(){return i}});var r=l(85893),a=l(7414),n=l(38623);function i(e){let{}=e;return(0,r.jsxs)(a.x,{className:"",children:[(0,r.jsx)(n.O,{mt:6,height:30,radius:"xs"}),(0,r.jsx)(n.O,{mt:6,height:30,radius:"xs"}),(0,r.jsx)(n.O,{mt:6,height:30,radius:"xs"}),(0,r.jsx)(n.O,{mt:6,height:30,radius:"xs"}),(0,r.jsx)(n.O,{mt:6,height:30,width:"90%",radius:"xs"}),(0,r.jsx)(n.O,{mt:6,height:30,width:"80%",radius:"xs"})]})}l(67294)},96125:function(e,s,l){"use strict";l.d(s,{Z:function(){return o}});var r=l(85893),a=l(11163),n=l(67294),i=l(45578),t=l(70247);function o(e){let{children:s}=e,{pathname:l,push:o}=(0,a.useRouter)(),[d,u]=(0,n.useState)(null),{isAuthenticated:c,isInitialized:g,authUser:x}=(0,i.a)(e=>e);return((0,n.useEffect)(()=>{d&&l!==d&&(u(null),o(d))},[l,o,d]),g)?l.includes("/reset-password")?(l!==d&&u(l),o("/reset-password"),(0,r.jsx)("div",{})):!c&&l.includes("/signin")?(l!==d&&u(l),o("/signin"),(0,r.jsx)("div",{})):c?c&&((null==x?void 0:x.isSuperAdmin)===!0||(null==x?void 0:x.isAdmin)===!0||(null==x?void 0:x.isTestAdmin)===!0)?(0,r.jsx)(r.Fragment,{children:s}):c&&(null==x?void 0:x.isSuperAdmin)===!1&&(null==x?void 0:x.isAdmin)===!1&&(null==x?void 0:x.isTestAdmin)===!1?(0,r.jsx)(t.default,{}):(0,r.jsx)("div",{}):(o("/signin"),(0,r.jsx)("div",{})):(0,r.jsx)("div",{})}},60668:function(e,s,l){"use strict";l.d(s,{T:function(){return o}});var r=l(86650),a=l(76770),n=l.n(a),i=l(57632);let t=e=>{let{file:s}=e;return new Promise(e=>{n().imageFileResizer(s,1500,1500,"JPEG",95,0,s=>{e(s)},"base64")})},o=async e=>{let{file:s}=e,l="",a=(0,r.cF)(),n=(0,r.iH)(a,"images/".concat((0,i.Z)(),".jpeg")),o=await t({file:s});try{let e=await (0,r.sf)(n,o,"data_url");l=await (0,r.Jt)(e.ref)}catch(e){}return l}},97894:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return R}});var r=l(85893),a=l(72445),n=l(7414),i=l(95117),t=l(67841),o=l(20050),d=l(80061),u=l(23833),c=l(54777),g=l(78701),x=l(22167),m=l(77248),p=l(57317),h=l(74922),v=l(11163),S=l(67294),N=l(55910),b=l(16310),j=l(51376),f=l(60668),w=l(46167),E=l(21981),y=l(39140);function C(){let[e,s]=(0,S.useState)(!0),[l,a]=(0,S.useState)(null);async function n(){a(await (0,w.uN)()),s(!1)}return((0,S.useEffect)(()=>{n()},[]),e)?(0,r.jsx)(y.Z,{}):(0,r.jsx)(k,{appInfo:l})}function k(e){var s,l,a,y,C,k,F,O,q,R,_,Z,I,U,Y,A;let{appInfo:P}=e;(0,v.useRouter)();let[z,V]=(0,S.useState)(!1),[H,T]=(0,S.useState)(null),L=b.Ry({name:b.Z_().required("Required"),logoImage:b.Z_(),adminUrl:b.Z_().url().required("Required"),frontendUrl:b.Z_().url().required("Required"),isEnableForexSignals:b.Z_().required("Required"),isEnableCryptoSignals:b.Z_().required("Required"),isEnableStocksSignals:b.Z_().required("Required"),isEnableForexNews:b.Z_().required("Required"),isEnableCryptoNews:b.Z_().required("Required"),isEnableStocksNews:b.Z_().required("Required"),sortOrderForexSignals:b.Rx().required("Required"),sortOrderCryptoSignals:b.Rx().required("Required"),sortOrderStocksSignals:b.Rx().required("Required"),headingNameCrypto:b.Z_().required("Required"),headingNameForex:b.Z_().required("Required"),headingNameStocks:b.Z_().required("Required")}),D=(0,m.c)({validate:(0,p.X)(L),initialValues:{name:null!==(s=null==P?void 0:P.name)&&void 0!==s?s:"Signally",logoImage:null!==(l=null==P?void 0:P.logoImage)&&void 0!==l?l:"",frontendUrl:null!==(a=null==P?void 0:P.frontendUrl)&&void 0!==a?a:"",adminUrl:null!==(y=null==P?void 0:P.adminUrl)&&void 0!==y?y:"",isEnableForexSignals:(0,E.j)(null!==(C=null==P?void 0:P.isEnabledForexSignals)&&void 0!==C&&C),isEnableCryptoSignals:(0,E.j)(null!==(k=null==P?void 0:P.isEnabledCryptoSignals)&&void 0!==k&&k),isEnableStocksSignals:(0,E.j)(null!==(F=null==P?void 0:P.isEnabledStocksSignals)&&void 0!==F&&F),isEnableForexNews:(0,E.j)(null!==(O=null==P?void 0:P.isEnabledForexNews)&&void 0!==O&&O),isEnableCryptoNews:(0,E.j)(null!==(q=null==P?void 0:P.isEnabledCryptoNews)&&void 0!==q&&q),isEnableStocksNews:(0,E.j)(null!==(R=null==P?void 0:P.isEnabledStocksNews)&&void 0!==R&&R),sortOrderForexSignals:null!==(_=null==P?void 0:P.sortOrderForexSignals)&&void 0!==_?_:0,sortOrderCryptoSignals:null!==(Z=null==P?void 0:P.sortOrderCryptoSignals)&&void 0!==Z?Z:0,sortOrderStocksSignals:null!==(I=null==P?void 0:P.sortOrderStocksSignals)&&void 0!==I?I:0,headingNameCrypto:null!==(U=null==P?void 0:P.headingNameCrypto)&&void 0!==U?U:"Crypto",headingNameForex:null!==(Y=null==P?void 0:P.headingNameForex)&&void 0!==Y?Y:"Forex",headingNameStocks:null!==(A=null==P?void 0:P.headingNameStocks)&&void 0!==A?A:"Stocks"}}),X=async()=>{if(!D.validate().hasErrors)try{var e;V(!0);let s=new j.r;(s={...s,...P}).name=D.values.name,s.frontendUrl=D.values.frontendUrl,s.adminUrl=D.values.adminUrl,s.logoImage=null!==(e=null==P?void 0:P.logoImage)&&void 0!==e?e:"",s.isEnabledForexSignals=(0,E.Y)(D.values.isEnableForexSignals),s.isEnabledCryptoSignals=(0,E.Y)(D.values.isEnableCryptoSignals),s.isEnabledStocksSignals=(0,E.Y)(D.values.isEnableStocksSignals),s.isEnabledForexNews=(0,E.Y)(D.values.isEnableForexNews),s.isEnabledCryptoNews=(0,E.Y)(D.values.isEnableCryptoNews),s.isEnabledStocksNews=(0,E.Y)(D.values.isEnableStocksNews),s.sortOrderForexSignals=Number(D.values.sortOrderForexSignals),s.sortOrderCryptoSignals=Number(D.values.sortOrderCryptoSignals),s.sortOrderStocksSignals=Number(D.values.sortOrderStocksSignals),s.headingNameCrypto=D.values.headingNameCrypto,s.headingNameForex=D.values.headingNameForex,s.headingNameStocks=D.values.headingNameStocks,H&&(s.logoImage=await (0,f.T)({file:H})),await (0,w.wo)(s),V(!1),(0,h.c0)({title:"Success",message:"App info updated",autoClose:6e3})}catch(e){console.log(e),V(!1),(0,h.c0)({color:"red",title:"Error",message:"There was an error updating",autoClose:6e3})}};return(0,r.jsx)(n.x,{className:"",children:(0,r.jsxs)(o.r,{align:"start",children:[(0,r.jsxs)(o.r.Col,{md:12,xs:12,children:[(0,r.jsx)(d.o,{className:"mt-4",placeholder:"Admin URL",label:"Admin Url",...D.getInputProps("adminUrl")}),(0,r.jsx)(d.o,{className:"mt-4",placeholder:"Frontend URL",label:"Frontend Url",...D.getInputProps("frontendUrl")}),(0,r.jsx)(d.o,{className:"mt-4",placeholder:"App name",label:"App name",...D.getInputProps("name")}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-x-3",children:[(0,r.jsx)(u.p,{className:"w-full",placeholder:"Enable Crypto",label:"Enable Crypto",data:["Yes","No"],onChange:e=>D.setFieldValue("isEnableCryptoSignals",e.target.value),value:D.values.isEnableCryptoSignals,error:D.errors.isEnableCryptoSignals}),(0,r.jsx)(u.p,{className:"w-full",placeholder:"Enable Forex",label:"Enable Forex",data:["Yes","No"],onChange:e=>D.setFieldValue("isEnableForexSignals",e.target.value),value:D.values.isEnableForexSignals,error:D.errors.isEnableForexSignals}),(0,r.jsx)(u.p,{className:"w-full",placeholder:"Enable Stocks",label:"Enable Stocks",data:["Yes","No"],onChange:e=>D.setFieldValue("isEnableStocksSignals",e.target.value),value:D.values.isEnableStocksSignals,error:D.errors.isEnableStocksSignals})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-x-3",children:[(0,r.jsx)(d.o,{className:"w-full",placeholder:"Sort Order Crypto",label:"Sort Order Crypto",...D.getInputProps("sortOrderCryptoSignals")}),(0,r.jsx)(d.o,{className:"w-full",placeholder:"Sort Order Forex",label:"Sort Order Forex",...D.getInputProps("sortOrderForexSignals")}),(0,r.jsx)(d.o,{className:"w-full",placeholder:"Sort Order Stocks",label:"Sort Order Stocks",...D.getInputProps("sortOrderStocksSignals")})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-x-3",children:[(0,r.jsx)(d.o,{className:"w-full",placeholder:"Heading Crypto",label:"Heading Crypto",...D.getInputProps("headingNameCrypto")}),(0,r.jsx)(d.o,{className:"w-full",placeholder:"Heading Forex",label:"Heading Forex",...D.getInputProps("headingNameForex")}),(0,r.jsx)(d.o,{className:"w-full",placeholder:"Heading Stocks",label:"Heading Stocks",...D.getInputProps("headingNameStocks")})]}),(0,r.jsx)(c.i,{className:"my-8 border-red-400"}),(0,r.jsx)(i.x,{className:"mb-5 text-2xl italic font-bold",children:"Api Access Specify Settings"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-x-3",children:[(0,r.jsx)(u.p,{className:"w-full",placeholder:"Show Crypto news",label:"Show Crypto news",data:["Yes","No"],onChange:e=>D.setFieldValue("isEnableCryptoNews",e.target.value),value:D.values.isEnableCryptoNews,error:D.errors.isEnableCryptoNews}),(0,r.jsx)(u.p,{className:"w-full",placeholder:"Show Forex news",label:"Show Forex news",data:["Yes","No"],onChange:e=>D.setFieldValue("isEnableForexNews",e.target.value),value:D.values.isEnableForexNews,error:D.errors.isEnableForexNews}),(0,r.jsx)(u.p,{className:"w-full",placeholder:"Show Stocks news",label:"Show Stocks news",data:["Yes","No"],onChange:e=>D.setFieldValue("isEnableStocksNews",e.target.value),value:D.values.isEnableStocksNews,error:D.errors.isEnableStocksNews})]}),(0,r.jsxs)(n.x,{className:"relative",children:[(0,r.jsx)(()=>H||D.values.logoImage?(0,r.jsx)(t.z,{className:"absolute z-40 btn right-2 top-2",onClick:()=>{D.setFieldValue("image",""),T(null)},children:"Remove"}):null,{}),(0,r.jsx)(g.fh,{className:"z-0 p-2 mt-8",multiple:!1,disabled:null!=H||""!=D.values.logoImage,onDrop:e=>{if(e.length>0){let s=e[0];T(Object.assign(s,{preview:URL.createObjectURL(s)}))}},onReject:e=>console.log("rejected files",e),maxSize:3145728,accept:x.d1,children:(0,r.jsx)(()=>""!=D.values.logoImage?(0,r.jsx)(n.x,{className:"relative flex justify-center",children:(0,r.jsx)("img",{className:"h-[300px]",src:D.values.logoImage,alt:"Preview"})}):H?(0,r.jsx)(n.x,{className:"relative flex justify-center",children:(0,r.jsx)("img",{className:"h-[300px]",src:H.preview,alt:"Preview"})}):(0,r.jsx)(n.x,{className:"min-h-[300px] pointer-events-none flex justify-center items-center text-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(i.x,{size:"xl",inline:!0,children:"Drag app logo here, ensure it is a rectangle and transparent background"}),(0,r.jsx)(i.x,{size:"sm",color:"dimmed",inline:!0,mt:7,children:"Drag app logo here, ensure it is a rectangle and transparent background"})]})}),{})})]})]}),(0,r.jsx)(o.r.Col,{md:12,xs:12,children:(0,r.jsx)(n.x,{children:(0,r.jsx)(t.z,{loading:z,onClick:X,leftIcon:(0,r.jsx)(N.Z,{size:14}),variant:"filled",className:"w-full mt-10 text-black transition border-0 bg-app-yellow hover:bg-opacity-90",children:"Submit"})})})]})})}var F=l(58185),O=l(96125),q=l(3649);function R(){return(0,r.jsx)(O.Z,{children:(0,r.jsx)(q.Z,{variant:"admin",children:(0,r.jsx)(F.Z,{title:"App info",children:(0,r.jsxs)(a.W,{className:"mt-4",children:[(0,r.jsx)("div",{className:"flex justify-between",children:(0,r.jsx)(n.x,{className:"flex items-center",children:(0,r.jsx)(i.x,{className:"text-2xl font-semibold leading-10 cursor-pointer",children:"App Settings"})})}),(0,r.jsx)("div",{className:"mt-10"}),(0,r.jsx)(C,{})]})})})})}},70247:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return u}});var r=l(85893),a=l(7414),n=l(95117),i=l(67841),t=l(11163),o=l(58185),d=l(43759);function u(){let e=(0,t.useRouter)();return(0,r.jsx)(o.Z,{title:"No Access",children:(0,r.jsxs)(a.x,{className:"flex flex-col items-center justify-center h-screen dark:bg-dark-100 bg-light-100",children:[(0,r.jsx)(n.x,{className:"mb-10 font-bold",children:"You dont have access to this page. Please contact the admin."}),(0,r.jsx)("img",{src:"/svg/404.svg",className:"h-[300px]"}),(0,r.jsx)(i.z,{onClick:function(){(0,d.w7)(),e.push("/signin")},className:"w-[200px] mt-12 border-0 bg-app-primary text-white hover:bg-opacity-90 transition",children:"Back to sign in"})]})})}},21981:function(e,s,l){"use strict";function r(e){return null==e?"Yes":!0===e?"Yes":"No"}function a(e){return"Yes"==e}l.d(s,{Y:function(){return a},j:function(){return r}})}},function(e){e.O(0,[4793,3053,6897,6951,6392,3981,7928,2888,179],function(){return e(e.s=34432)}),_N_E=e.O()}]);