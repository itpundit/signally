(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2892],{66249:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return t(73576)}])},25120:function(e,s,t){"use strict";t.d(s,{D:function(){return v}});var n=t(85893),r=t(80061),a=t(7414),l=t(95117),i=t(93648),c=t(49834),o=t(73221),d=t(27728),u=t(89604),x=t(74094),m=t(27060),h=t(67294),g=t(66589),p=t(89743),f=t(83738);let j=(e,s,t,n)=>{let r=(0,u.O4)(e.getValue(s),t);return n({itemRank:r}),r.passed};function v(e){var s;let{columns:t,data:u}=e,[v,b]=h.useState({pageIndex:0,pageSize:10}),[N,w]=h.useState([]),[y,S]=h.useState(""),C=(0,x.b7)({data:u,columns:t,state:{sorting:N,pagination:v,globalFilter:y},globalFilterFn:j,onGlobalFilterChange:S,onSortingChange:w,onPaginationChange:b,getCoreRowModel:(0,m.sC)(),getFilteredRowModel:(0,m.vL)(),getPaginationRowModel:(0,m.G_)(),getSortedRowModel:(0,m.tj)()});return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"border rounded shadow-md border-slate-300 border-opacity-30 text-[12px]",children:[(0,n.jsx)("div",{className:"mx-2 mt-2",children:(0,n.jsx)(r.o,{className:"mt-6",placeholder:"Type a keyword to search...",type:"text",value:null!=y?y:"",onChange:e=>S(String(e.target.value))})}),(0,n.jsx)("div",{className:"overflow-auto",children:(0,n.jsxs)("table",{className:"min-w-[1000px] w-full border-transparent",children:[(0,n.jsx)("thead",{className:"",children:C.getHeaderGroups().map(e=>(0,n.jsx)("tr",{className:"p-0 m-0 border-none",children:e.headers.map(e=>(0,n.jsx)("th",{style:{width:150!==e.getSize()?e.getSize():void 0},className:"w-[".concat(e.getSize(),"%]  dark:border-gray-700 text-left py-3 px-2 bg-slate-100 dark:bg-gray-800  text-gray-600 dark:text-gray-300  font-bold"),children:e.isPlaceholder?null:(0,n.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none flex items-center align-middle":"flex",onClick:e.column.getToggleSortingHandler(),children:[(0,x.ie)(e.column.columnDef.header,e.getContext()),null!==(s=({asc:(0,n.jsx)(g.Z,{className:"ml-1"}),desc:(0,n.jsx)(p.Z,{className:"ml-1"})})[e.column.getIsSorted()])&&void 0!==s?s:(0,n.jsx)(f.Z,{className:"ml-1 text-transparent"})]})},e.id))},e.id))}),(0,n.jsx)("tbody",{children:C.getRowModel().rows.map(e=>(0,n.jsx)("tr",{className:"transition hover:bg-slate-50 hover hover:dark:bg-dark-400",children:e.getVisibleCells().map(e=>(0,n.jsx)("td",{className:"text-left text-[13.5px] py-4 px-2 border-b border-gray-100 dark:border-gray-700",children:(0,x.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2 px-4 py-3",children:[(0,n.jsxs)(a.x,{className:"flex items-center mr-0",children:[(0,n.jsx)(l.x,{className:"mr-2",children:"Rows per page"}),(0,n.jsx)(i.Ph,{className:"w-[70px] p-0 mb-0 native-select-table",iconWidth:0,placeholder:"10",value:v.pageSize.toString(),onChange:e=>{C.setPageSize(Number(e))},data:[{value:"10",label:"10"},{value:"20",label:"20"},{value:"30",label:"30"},{value:"40",label:"40"},{value:"50",label:"50"}]})]}),(0,n.jsxs)("span",{className:"flex items-center gap-1 mr-4",children:[(0,n.jsx)("div",{children:"Page"}),(0,n.jsxs)(l.x,{children:[C.getState().pagination.pageIndex+1," of ",C.getPageCount()]})]}),(0,n.jsxs)(a.x,{className:"flex",children:[(0,n.jsx)(c.A,{className:"mr-2",variant:"subtle",onClick:()=>C.previousPage(),disabled:!C.getCanPreviousPage(),children:(0,n.jsx)(o.Z,{size:30})}),(0,n.jsx)(c.A,{variant:"subtle",onClick:()=>C.nextPage(),disabled:!C.getCanNextPage(),children:(0,n.jsx)(d.Z,{size:30})})]})]})]})})}},96125:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var n=t(85893),r=t(11163),a=t(67294),l=t(45578),i=t(70247);function c(e){let{children:s}=e,{pathname:t,push:c}=(0,r.useRouter)(),[o,d]=(0,a.useState)(null),{isAuthenticated:u,isInitialized:x,authUser:m}=(0,l.a)(e=>e);return((0,a.useEffect)(()=>{o&&t!==o&&(d(null),c(o))},[t,c,o]),x)?t.includes("/reset-password")?(t!==o&&d(t),c("/reset-password"),(0,n.jsx)("div",{})):!u&&t.includes("/signin")?(t!==o&&d(t),c("/signin"),(0,n.jsx)("div",{})):u?u&&((null==m?void 0:m.isSuperAdmin)===!0||(null==m?void 0:m.isAdmin)===!0||(null==m?void 0:m.isTestAdmin)===!0)?(0,n.jsx)(n.Fragment,{children:s}):u&&(null==m?void 0:m.isSuperAdmin)===!1&&(null==m?void 0:m.isAdmin)===!1&&(null==m?void 0:m.isTestAdmin)===!1?(0,n.jsx)(i.default,{}):(0,n.jsx)("div",{}):(c("/signin"),(0,n.jsx)("div",{})):(0,n.jsx)("div",{})}},70247:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var n=t(85893),r=t(7414),a=t(95117),l=t(67841),i=t(11163),c=t(58185),o=t(43759);function d(){let e=(0,i.useRouter)();return(0,n.jsx)(c.Z,{title:"No Access",children:(0,n.jsxs)(r.x,{className:"flex flex-col items-center justify-center h-screen dark:bg-dark-100 bg-light-100",children:[(0,n.jsx)(a.x,{className:"mb-10 font-bold",children:"You dont have access to this page. Please contact the admin."}),(0,n.jsx)("img",{src:"/svg/404.svg",className:"h-[300px]"}),(0,n.jsx)(l.z,{onClick:function(){(0,o.w7)(),e.push("/signin")},className:"w-[200px] mt-12 border-0 bg-app-primary text-white hover:bg-opacity-90 transition",children:"Back to sign in"})]})})}},73576:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var n=t(85893),r=t(7414),a=t(95117),l=t(72445),i=t(38276),c=t(27060),o=t(11163),d=t(81252),u=t(58185),x=t(25120),m=t(96125),h=t(3649),g=t(45578),p=t(84732);let f=(0,c.Cl)(),j=[f.accessor("timestampCreated",{header:"Created",cell:e=>(0,p.Mu)(e.getValue())}),f.accessor("id",{header:"User Id",cell:e=>(0,n.jsx)(r.x,{className:"flex items-center",children:e.row.original.id})}),f.accessor("isSuperAdmin",{header:"Super Admin",cell:e=>(0,n.jsx)(a.x,{children:e.getValue()?"Yes":"No"})}),f.accessor("isAdmin",{header:"Admin",cell:e=>(0,n.jsx)(a.x,{children:e.getValue()?"Yes":"No"})}),f.accessor("email",{header:"Email",cell:e=>e.getValue()}),f.accessor("subIsLifetime",{header:"Lifetime sub",cell:e=>(0,n.jsx)(a.x,{children:e.getValue()?"Yes":"No"})}),f.accessor("getSubscriptionEndDate",{header:"Sub End",cell:e=>(0,p.Mu)(e.getValue())}),f.accessor("getHasSubscription",{header:"Has subsciption",cell:e=>(0,n.jsx)(a.x,{children:e.getValue()?"Yes":"No"})}),f.accessor("userId",{header:"Action",cell:e=>(0,n.jsx)(r.x,{className:"flex items-center",children:(0,n.jsx)(b,{authUser:e.row.original})})})];function v(){let e=(0,g.a)(e=>e.authUsers),s=(0,o.useRouter)(),t=s.query.access||"",i="superadmin"===t?e.filter(e=>!0===e.isSuperAdmin):"admin"===t?e.filter(e=>!0===e.isAdmin):"subscriber"===t?e.filter(e=>!0===e.getHasSubscription):"lifetime"===t?e.filter(e=>!0===e.subIsLifetime):e;return(0,n.jsx)(m.Z,{children:(0,n.jsx)(h.Z,{variant:"admin",children:(0,n.jsx)(u.Z,{title:"Users",children:(0,n.jsxs)(l.W,{size:"xl",className:"mb-20",children:[(0,n.jsx)(r.x,{className:"flex items-center justify-between mt-1 mb-5 text-center",children:(0,n.jsx)(a.x,{className:"text-2xl font-semibold leading-10 cursor-pointer",children:"Users"})}),(0,n.jsx)(x.D,{data:i,columns:j})]})})})})}function b(e){let{authUser:s}=e,t=(0,o.useRouter)();return(0,i.o)(),(0,n.jsxs)(r.x,{className:"flex",children:[(0,n.jsx)(d.Z,{size:20,className:"mr-2 cursor-pointer text-app-yellow",onClick:()=>t.push("/users/".concat(s.id))})," "]})}},84732:function(e,s,t){"use strict";t.d(s,{Mu:function(){return a},Pp:function(){return l}});var n=t(56794),r=t(39828);function a(e){return e?(e instanceof r.EK&&(e=e.toDate()),(0,n.Z)(new Date(e),"dd MMM, yyyy")):""}function l(e){return e?(e instanceof r.EK&&(e=e.toDate()),(0,n.Z)(new Date(e),"MMM-d-yyyy @ p")):""}},81252:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var n=t(22581),r=t(67294),a=["size","color"];function l(e){var s=e.size,t=void 0===s?24:s,l=e.color,i=(0,n.Kd)(e,a);return r.createElement("svg",(0,n.gY)({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-edit",width:t,height:t,viewBox:"0 0 24 24",stroke:void 0===l?"currentColor":l,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r.createElement("path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}),r.createElement("path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}),r.createElement("path",{d:"M16 5l3 3"}))}}},function(e){e.O(0,[4793,3053,3143,3981,7928,2888,179],function(){return e(e.s=66249)}),_N_E=e.O()}]);